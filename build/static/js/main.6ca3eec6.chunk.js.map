{"version":3,"sources":["Components/NoteAdd/NoteAdd.module.scss","Components/Login/Login.module.scss","Components/Journal/Journal.module.scss","Components/Weather/Weather.module.scss","Components/App/App.module.scss","Components/Loader/Loader.module.scss","Components/Confirm/Confirm.module.scss","Components/Head/Head.module.scss","Components/Close/Close.module.scss","Components/BlackBackground/BlackBackground.module.scss","Components/NotFound404/NotFound404.module.scss","redux/constants.js","utils/utils.js","redux/selectors.js","redux/actions.js","Components/Loader/Loader.js","Components/Close/Close.js","Components/KeyDownEscape/KeyDownEscape.js","Components/NoteAdd/NoteAdd.js","Components/BlackBackground/BlackBackground.js","Components/Confirm/Confirm.js","hoc/withAuthRedirect.js","Components/Journal/Journal.js","Components/Head/Head.js","Components/Weather/Weather.js","Components/NotFound404/NotFound404.js","Components/Login/Login.js","Components/App/App.js","reportWebVitals.js","redux/reducers/daybook.js","redux/reducers/newNote.js","redux/reducers/delNote.js","history.js","redux/reducers/weather.js","redux/reducers/auth.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["module","exports","REQUEST","SUCCESS","FAILURE","CANCEL","UPLOAD","CONFIRM","DELETE","LOGOUT","LOAD_DAYBOOK","NEW_NOTE","DEL_NOTE","GET_LOCATION","GET_WEATHER","AUTHENTICATION","normalizeView","obj","Object","keys","reduce","acc","item","id","normalizeTime","unixDate","timeZone","currentTimeZoneInSecond","Date","getTimezoneOffset","parseDate","getHours","getMinutes","daybookLoadingSelector","state","daybook","loading","daybookLoadedSelector","loaded","errorLoadedSelector","error","daybookDateTimeSelector","createSelector","entities","note","slice","sort","a","b","date","time","editModeNewNoteSelector","newNote","editMode","loadingNewNoteSelector","loadedNewNoteSelector","errorNewNoteSelector","confirmDelNoteModeSelector","delNote","confirmMode","noteIdDelNoteModeSelector","noteId","loadingDelNoteSelector","errorWeatherSelector","weather","latitudeSelector","latitude","longitudeSelector","longitude","dataWeatherSelector","data","sunriseTimeSelector","sys","sunrise","timezone","sunsetTimeSelector","sunset","isAuthSelector","auth","token","userEmailSelector","email","requestAuthSelector","request","loadDaybook","dispatch","type","fetch","then","res","json","payload","console","log","authSuccess","autoLogout","setTimeout","logout","localStorage","removeItem","Loader","className","styles","root","ldsSpinner","Close","close","KeyDownEscape","doIt","escape","e","key","useEffect","document","addEventListener","removeEventListener","connect","loadingNewNote","loadedNewNote","errorNewNote","addNoteSave","method","body","JSON","stringify","headers","err","newNoteCancel","addNoteConfirm","useForm","register","handleSubmit","errors","formState","onSubmit","head","label","required","maxLength","comment","buttons","onClick","loader","BlackBackground","dark","Confirm","positiveFn","negativeFn","condition","disabled","withAuthRedirect","Component","isAuth","props","to","errorLoad","loadingDelNote","newNoteEditMode","delNoteConfirm","cancelNoteConfirm","deleteNote","getState","map","i","noteHead","aid","errorWeather","dataWeather","sunriseTime","sunsetTime","getCoordinates","getCoords","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","position","crd","coords","weatherData","code","message","wrapLabel","name","main","temp","toFixed","feels_like","humidity","sea_level","sun","NotFound404","isLogin","userData","password","returnSecureToken","url","response","idToken","localId","expiresIn","expireTime","getTime","setItem","autoLogin","getItem","mode","useState","setIsLogin","preSubmit","bool","length","pattern","minLength","App","app","wrapp","exact","from","path","component","Journal","Weather","Login","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","history","createBrowserHistory","combineReducers","router","connectRouter","action","enhancer","applyMiddleware","thunk","routerMiddleware","createStore","reducers","composeWithDevTools","ReactDOM","render","StrictMode","store","getElementById"],"mappings":"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","file":"static/js/main.6ca3eec6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NoteAdd_root__1aCfq\",\"head\":\"NoteAdd_head__IpzgA\",\"error\":\"NoteAdd_error__38yDF\",\"label\":\"NoteAdd_label__8pYnX\",\"buttons\":\"NoteAdd_buttons__3RwhE\",\"loader\":\"NoteAdd_loader__3Uvit\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Login_root__16ZTN\",\"head\":\"Login_head__2PGSe\",\"label\":\"Login_label__1d_Rn\",\"buttons\":\"Login_buttons__3aOQv\",\"error\":\"Login_error__1hpMK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Journal_root__32oTR\",\"note\":\"Journal_note__2p2sj\",\"close\":\"Journal_close__2hSsg\",\"head\":\"Journal_head__3zP0e\",\"error\":\"Journal_error__3LxwT\",\"noteHead\":\"Journal_noteHead__2rlT6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Weather_error__nrwuP\",\"data\":\"Weather_data__1vqEQ\",\"sun\":\"Weather_sun__YlEZz\",\"wrapLabel\":\"Weather_wrapLabel__3-a7T\",\"label\":\"Weather_label__2IZkK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3JDYk\",\"wrapp\":\"App_wrapp__-V4RX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Loader_root__3Tcok\",\"ldsSpinner\":\"Loader_ldsSpinner__W_h2U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Confirm_root__1tmuN\",\"buttons\":\"Confirm_buttons__3REmS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Head_root__rGym6\",\"auth\":\"Head_auth__1en80\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"close\":\"Close_close__3GT5n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark\":\"BlackBackground_dark__3Zptw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NotFound404_root__1YR8T\"};","export const REQUEST = '_REQUEST';\nexport const SUCCESS = '_SUCCESS';\nexport const FAILURE = '_FAILURE';\nexport const CANCEL = '_CANCEL';\nexport const UPLOAD = '_UPLOAD';\nexport const CONFIRM = '_CONFIRM';\nexport const DELETE = '_DELETE';\nexport const LOGOUT = '_LOGOUT';\n\nexport const LOAD_DAYBOOK = 'LOAD_DAYBOOK';\nexport const LOAD_LAST_DAYBOOK= 'LOAD_LAST_DAYBOOK';\nexport const NEW_NOTE = 'NEW_NOTE';\nexport const DEL_NOTE = 'DEL_NOTE';\nexport const GET_LOCATION = 'GET_LOCATION';\nexport const GET_WEATHER = 'GET_WEATHER';\nexport const AUTHENTICATION = 'AUTHENTICATION';\n\n","export const normalizeView = (obj) => {\n    return Object.keys(obj).reduce((acc, item) => {\n        return [...acc, {id: item, ...obj[item]}]\n    }, [])\n}\n\nexport const normalizeTime = (unixDate, timeZone) => {\n    const currentTimeZoneInSecond = new Date(1626378521).getTimezoneOffset() * 60\n    const parseDate = new Date((+unixDate + currentTimeZoneInSecond + timeZone) * 1000)\n    return `${parseDate.getHours()}:${parseDate.getMinutes()}`\n}\n","import {createSelector} from 'reselect';\nimport {normalizeTime} from '../utils/utils';\n\nexport const daybookSelector = (state) => state.daybook.entities;\nexport const daybookLoadingSelector = (state) => state.daybook.loading;\nexport const daybookLoadedSelector = (state) => state.daybook.loaded;\nexport const errorLoadedSelector = (state) => state.daybook.error;\n\nexport const daybookDateTimeSelector = createSelector(\n    daybookSelector,\n    (note) => {\n        return (\n            note.slice().sort((a, b) => {\n                a = new Date(`${a.date}T${a.time}`);\n                b = new Date(`${b.date}T${b.time}`);\n                return a > b ? -1 : a < b ? 1 : 0;\n            })\n        )\n    }\n)\n\nexport const newNoteBackgroundSelector = state => state.newNote.dark;\nexport const editModeNewNoteSelector = state => state.newNote.editMode;\nexport const loadingNewNoteSelector = state => state.newNote.loading;\nexport const loadedNewNoteSelector = state => state.newNote.loaded;\nexport const errorNewNoteSelector = state => state.newNote.error;\n\nexport const delNoteBackgroundSelector = state => state.delNote.dark;\nexport const confirmDelNoteModeSelector = state => state.delNote.confirmMode;\nexport const noteIdDelNoteModeSelector = state => state.delNote.noteId;\nexport const loadingDelNoteSelector = state => state.delNote.loading;\nexport const loadedDelNoteSelector = state => state.delNote.loaded;\nexport const errorDelNoteSelector = state => state.delNote.error;\n\nexport const errorWeatherSelector = state => state.weather.error;\nexport const latitudeSelector = state => state.weather.latitude;\nexport const longitudeSelector = state => state.weather.longitude;\nexport const dataWeatherSelector = state => state.weather.data;\n\nexport const sunriseTimeSelector = createSelector(\n    dataWeatherSelector,\n    (data) => normalizeTime(data?.sys.sunrise, data?.timezone)\n)\n\nexport const sunsetTimeSelector = createSelector(\n    dataWeatherSelector,\n    (data) => normalizeTime(data?.sys.sunset, data?.timezone)\n)\n\nexport const isAuthSelector = state => state.auth.token\nexport const userEmailSelector = state => state.auth.email\nexport const requestAuthSelector = state => state.auth.request\n","import {\n    AUTHENTICATION,\n    CANCEL,\n    CONFIRM, DEL_NOTE, DELETE,\n    FAILURE, GET_LOCATION, GET_WEATHER,\n    LOAD_DAYBOOK, LOGOUT,\n    NEW_NOTE,\n    REQUEST,\n    SUCCESS,\n    UPLOAD\n} from './constants';\nimport {latitudeSelector, longitudeSelector, noteIdDelNoteModeSelector} from './selectors';\n\nexport const loadDaybook = () => async (dispatch) => {\n    dispatch({type: LOAD_DAYBOOK + REQUEST});\n    try {\n        const daybook = await fetch(\n            `https://react-purificatio-default-rtdb.firebaseio.com/daybook.json`)\n            .then((res) => res.json());\n        dispatch({type: LOAD_DAYBOOK + SUCCESS, payload: {daybook}});\n    } catch (error) {\n        console.log('error: ', error);\n        dispatch({type: LOAD_DAYBOOK + FAILURE, payload: {error}});\n    }\n};\n\nexport const newNoteEditMode = () => ({type: NEW_NOTE + REQUEST,});\nexport const newNoteCancel = () => ({type: NEW_NOTE + CANCEL,});\n\nexport const addNoteSave = (newNote) => {\n    return async (dispatch) => {\n        dispatch({type: NEW_NOTE + UPLOAD})\n        try {\n            await fetch(\n                `https://react-purificatio-default-rtdb.firebaseio.com/daybook.json`,\n                {\n                    method: 'POST',\n                    body: JSON.stringify(newNote),\n                    headers: {'Content-Type': 'application/json'}\n                });\n            dispatch({type: NEW_NOTE + SUCCESS})\n            dispatch(loadDaybook())\n        } catch (err) {\n            dispatch({type: NEW_NOTE + FAILURE, payload: {err}})\n            console.error(err);\n        }\n    };\n};\n\nexport const addNoteConfirm = () => ({type: NEW_NOTE + CONFIRM})\n\nexport const delNoteConfirm = (noteId) => ({type: DEL_NOTE + CONFIRM, payload: noteId})\nexport const cancelNoteConfirm = () => ({type: DEL_NOTE + CANCEL})\n\nexport const deleteNote = () => {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const noteId = noteIdDelNoteModeSelector(state)\n        dispatch({type: DEL_NOTE + DELETE + REQUEST})\n        try {\n            await fetch(\n                `https://react-purificatio-default-rtdb.firebaseio.com/daybook/${noteId}.json`,\n                {\n                    method: 'DELETE',\n                });\n            dispatch({type: DEL_NOTE + DELETE + SUCCESS})\n            dispatch(loadDaybook())\n        } catch (err) {\n            dispatch({type: DEL_NOTE + DELETE + FAILURE, payload: {err}})\n            console.error(err);\n        }\n    };\n};\n\nexport const getWeather = () => {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const latitude = latitudeSelector(state);\n        const longitude = longitudeSelector(state);\n        try {\n            const weatherData = await fetch(\n                `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&units=metric&lang=ru&appid=c6c3b539e6d45ebe1f8bbe544d947a0d`)\n                .then((res) => res.json());\n            console.log('weatherData: ', weatherData);\n            dispatch({type: GET_WEATHER, payload: weatherData})\n        } catch (err) {\n            console.log(err)\n        }\n    };\n};\n\nexport const getCoordinates = () => {\n    return async (dispatch) => {\n        const getCoords = () => {\n            return new Promise((resolve, reject) => navigator.geolocation.getCurrentPosition(resolve, reject))\n        }\n        try {\n            await getCoords()\n                .then(position => {\n                    const crd = position.coords;\n                    dispatch({type: GET_LOCATION, payload: {latitude: crd.latitude, longitude: crd.longitude}})\n                })\n                .then(() => dispatch(getWeather()))\n        } catch (err) {\n            console.error(err);\n            dispatch({type: GET_LOCATION + FAILURE, payload: {code: err.code, message: err.message}})\n        }\n    };\n};\n\nexport const auth = ({email, password}, isLogin) => {\n    const userData = {\n        email,\n        password,\n        returnSecureToken: true\n    };\n    const apiKey = 'AIzaSyAks4VT1Wc0s4YCTCzaDuWGA9l1fdKIJOw';\n    let url = 'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key='\n    if (isLogin) {\n        url = 'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key='\n    }\n    return async (dispatch) => {\n        dispatch({type: AUTHENTICATION + REQUEST})\n        try {\n            const response = await fetch(url + apiKey, {\n                method: 'POST',\n                body: JSON.stringify(userData),\n                headers: {'Content-Type': 'application/json'}\n            }).then(res => res.json())\n            const {idToken, localId, expiresIn, email} = response;\n            const expireTime = new Date(new Date().getTime() + expiresIn * 1000)\n\n            localStorage.setItem('token', idToken);\n            localStorage.setItem('userId', localId)\n            localStorage.setItem('expireTime', expireTime)\n            localStorage.setItem('email', email)\n\n            dispatch(authSuccess(idToken, email))\n            dispatch(autoLogout(expiresIn))\n\n        } catch (err) {\n            console.error(err);\n        }\n    };\n};\n\nexport const authSuccess = (token, email) => ({type: AUTHENTICATION + SUCCESS, payload: {token, email}})\n\nexport const autoLogout = (time) => {\n    return (dispatch) => {\n        setTimeout(() => {\n            dispatch(logout())\n        }, time * 1000)\n    };\n};\n\nexport const logout = () => {\n    return (dispatch) => {\n        localStorage.removeItem('token');\n        localStorage.removeItem('userId');\n        localStorage.removeItem('expireTime');\n        localStorage.removeItem('email');\n        dispatch({type: AUTHENTICATION + LOGOUT})\n    };\n};\n\nexport const autoLogin = () => {\n    return (dispatch) => {\n        const token = localStorage.getItem('token');\n        const email = localStorage.getItem('email');\n        const expireTime = new Date(localStorage.getItem('expireTime'))\n        if (!token || expireTime <= new Date()) {\n            dispatch(logout())\n        } else {\n            dispatch(authSuccess())\n            dispatch(autoLogout((expireTime.getTime() - new Date().getTime()) / 1000))\n        }\n        dispatch(authSuccess(token, email))\n    };\n};\n","import React from 'react';\nimport styles from './Loader.module.scss'\n\nconst Loader = () => {\n    return (\n        <div className={styles.root}>\n            <div className={styles.ldsSpinner}>\n                <div/>\n                <div/>\n                <div/>\n                <div/>\n                <div/>\n                <div/>\n                <div/>\n                <div/>\n                <div/>\n                <div/>\n                <div/>\n                <div/>\n            </div>\n        </div>\n    );\n};\n// (<([^>]*))(>)<\\/\\2> replace $1/$3\nexport default Loader;\n","import React from 'react';\nimport styles from './Close.module.scss'\n\nconst Close = () => {\n    return (\n        <div className={styles.close}/>\n    );\n};\n\nexport default Close;\n","import React, {useEffect} from 'react';\n\nconst KeyDownEscape = ({doIt}) => {\n    const escape = (e) => {\n        if (e.key === 'Escape') doIt()\n    };\n    useEffect(() => {\n        document.addEventListener('keydown', escape, false);\n        return () => {\n            document.removeEventListener('keydown', escape, false);\n        };\n    }, []); //eslint-disable-line\n    return <div/>\n};\n\nexport default KeyDownEscape;\n","import React from 'react';\nimport styles from './NoteAdd.module.scss'\nimport {useForm} from 'react-hook-form';\nimport {connect} from 'react-redux';\nimport {addNoteConfirm, addNoteSave, newNoteCancel} from '../../redux/actions';\nimport Loader from '../Loader/Loader';\nimport {\n    errorNewNoteSelector,\n    loadedNewNoteSelector,\n    loadingNewNoteSelector\n} from '../../redux/selectors';\nimport KeyDownEscape from '../KeyDownEscape/KeyDownEscape';\n\nconst NoteAdd = ({addNoteSave, newNoteCancel, loadingNewNote, loadedNewNote, addNoteConfirm, errorNewNote}) => {\n    const {register, handleSubmit, formState: {errors}} = useForm();\n    const onSubmit = handleSubmit(data => {\n        addNoteSave(data)\n    });\n    return (\n        <div className={styles.root}>\n            <h1>Добавить запись</h1>\n            <form className={styles.head} onSubmit={onSubmit}>\n                <label className={styles.label}>\n                    <span>{'Время'}</span>\n                    <input type={'time'} {...register('time', {required: true})} />\n                    {errors.time?.type === 'required' && <span className={styles.error}>Поле не заполнено</span>}\n                </label>\n                <label className={styles.label}>\n                    <span>{'Дата'}</span>\n                    <input type={'date'} {...register('date', {required: true})} />\n                    {errors.date?.type === 'required' && <span className={styles.error}>Поле не заполнено</span>}\n                </label>\n                <label className={styles.label}>\n                    <span>{'Вспомогательное средство?'}</span>\n                    <input type={'text'} {...register('aid')} />\n                </label>\n                <label className={styles.label}>\n                    <span>{'Комментарий'}</span>\n                    <textarea maxLength={150} {...register('comment', {maxLength: 150})} />\n                    {errors.comment?.type === 'maxLength' &&\n                    <span className={styles.error}>Слишком длинный комментарий (макс 150 символов)</span>}\n                </label>\n                <div className={styles.buttons}>\n                    <button type={'submit'} onClick={onSubmit}>Сохранить запись</button>\n                    <button onClick={newNoteCancel}>Отмена</button>\n                </div>\n            </form>\n            {loadingNewNote ? <div className={styles.loader}><Loader/></div> : null}\n            {!loadingNewNote && loadedNewNote && !errorNewNote ?\n                <div className={styles.loader}>Запись добавлена <button onClick={addNoteConfirm}>Ok</button>\n                </div> : null}\n            {errorNewNote ? <div>{errorNewNote}</div> : null}\n            <KeyDownEscape doIt={newNoteCancel}/>\n        </div>\n    );\n};\n\nexport default connect(state => ({\n    loadingNewNote: loadingNewNoteSelector(state),\n    loadedNewNote: loadedNewNoteSelector(state),\n    errorNewNote: errorNewNoteSelector(state),\n}), {addNoteSave, newNoteCancel, addNoteConfirm})(NoteAdd);\n","import React from 'react';\nimport styles from './BlackBackground.module.scss'\n\nconst BlackBackground = ({dark = false}) => {\n    return (\n        <>\n            {dark ? <div className={styles.dark}/> : null}\n        </>\n    );\n};\n\nexport default BlackBackground;\n","import React from 'react';\nimport styles from './Confirm.module.scss'\nimport KeyDownEscape from '../KeyDownEscape/KeyDownEscape';\n\nconst Confirm = ({positiveFn, negativeFn, condition}) => {\n    return (\n        <div className={styles.root}>\n            <span>Вы точно хотите удалить запись?</span>\n            <div className={styles.buttons}>\n                <button onClick={positiveFn} disabled={condition}>Да</button>\n                <button onClick={negativeFn} disabled={condition}>Нет</button>\n            </div>\n            <KeyDownEscape doIt={negativeFn}/>\n        </div>\n    );\n};\n\nexport default Confirm;\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {Redirect} from 'react-router-dom';\nimport {isAuthSelector} from '../redux/selectors';\n\nexport const withAuthRedirect = (Component) => {\n    const HocComponent = (props) => {\n\n        if (!props.isAuth) {\n            return <Redirect to={'/login'}/>\n        }\n\n        return (\n            <Component {...props}/>\n        );\n    };\n    return connect(state => ({\n        isAuth: isAuthSelector(state)\n    }))(HocComponent);\n};\n","import React, {useEffect} from 'react';\nimport styles from './Journal.module.scss'\nimport {connect} from 'react-redux';\nimport {cancelNoteConfirm, deleteNote, delNoteConfirm, loadDaybook, newNoteEditMode} from '../../redux/actions';\nimport {\n    daybookDateTimeSelector,\n    daybookLoadingSelector,\n    daybookLoadedSelector,\n    errorLoadedSelector, editModeNewNoteSelector, confirmDelNoteModeSelector, loadingDelNoteSelector\n} from '../../redux/selectors'\nimport Loader from '../Loader/Loader';\nimport Close from '../Close/Close';\nimport NoteAdd from '../NoteAdd/NoteAdd';\nimport BlackBackground from '../BlackBackground/BlackBackground';\nimport Confirm from '../Confirm/Confirm';\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\n\nconst Journal = ({loadDaybook, loading, loaded, daybook, newNoteEditMode, errorLoad, delNoteConfirm, editMode, confirmMode, cancelNoteConfirm, deleteNote, loadingDelNote}) => {\n    useEffect(() => {\n        if (!loading && !loaded) loadDaybook();\n    }, []); //eslint-disable-line\n\n    if (loading) return <Loader/>;\n\n    if (errorLoad === 'Failed to fetch') return <h2 className={styles.error}>ошибка загрузки данных</h2>\n\n    return (\n        <>\n            <div className={styles.head}>\n                <h1>Журнал</h1>\n                <button onClick={newNoteEditMode}>Добавить запись</button>\n            </div>\n            <div className={styles.root}>\n                {daybook.map((note, i) => {\n                    return (\n                        <div key={note.id} className={styles.note}>\n                            <div className={styles.noteHead}>\n                                <div><b>Запись номер:</b> {i + 1}</div>\n                                <div className={styles.close} onClick={() => delNoteConfirm(note.id)}><Close/></div>\n                            </div>\n                            <div><b>Дата:</b> {note.date}</div>\n                            <div><b>Время:</b> {note.time}</div>\n                            <div><b>Вспомогательное средство:</b> {note.aid}</div>\n                            {note.comment ? <div><b>Комментарий:</b> {note.comment}</div> : null}\n                        </div>\n                    )\n                })}\n            </div>\n            {editMode ? <NoteAdd/> : null}\n            <BlackBackground dark={editMode || confirmMode}/>\n            {confirmMode ? <Confirm negativeFn={cancelNoteConfirm} positiveFn={deleteNote} condition={loadingDelNote}/> : null}\n        </>\n    );\n};\n\nexport default withAuthRedirect(connect((state) => ({\n    daybook: daybookDateTimeSelector(state),\n    loading: daybookLoadingSelector(state),\n    loaded: daybookLoadedSelector(state),\n    errorLoad: errorLoadedSelector(state),\n    editMode: editModeNewNoteSelector(state),\n    confirmMode: confirmDelNoteModeSelector(state),\n    loadingDelNote: loadingDelNoteSelector(state),\n}), {loadDaybook, newNoteEditMode, delNoteConfirm, cancelNoteConfirm, deleteNote})(Journal));\n","import React from 'react';\nimport styles from './Head.module.scss'\nimport {Link} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport {isAuthSelector, userEmailSelector} from '../../redux/selectors';\nimport {logout} from '../../redux/actions';\n\nconst Head = ({isAuth, email, logout}) => {\n    return (\n        <div className={styles.root}>\n            {isAuth && <Link to={'/'}>Журнал</Link>}\n            {isAuth && <Link to={'/weather'}>Погода</Link>}\n            {isAuth ? <div className={styles.auth}>\n                    <span>Привет <b>'{email}'</b></span><Link onClick={logout} to={'/login'}>Выйти</Link>\n                </div>\n                : <Link to={'/login'}>Необходимо войти в систему</Link>}\n        </div>\n    );\n};\n\nexport default connect(state => ({\n    isAuth: isAuthSelector(state),\n    email: userEmailSelector(state)\n}), {\n    logout\n})(Head);\n","import React, {useEffect} from 'react';\nimport styles from './Weather.module.scss'\nimport {connect} from 'react-redux';\nimport {getCoordinates} from '../../redux/actions';\nimport {\n    dataWeatherSelector,\n    errorWeatherSelector,\n    sunriseTimeSelector,\n    sunsetTimeSelector\n} from '../../redux/selectors';\nimport Loader from '../Loader/Loader';\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\n\nconst Weather = ({getCoordinates, errorWeather, dataWeather, sunriseTime, sunsetTime}) => {\n    useEffect(() => {\n        getCoordinates()\n    }, []); //eslint-disable-line\n\n    if (!errorWeather && !dataWeather) return <Loader/>\n\n    return (\n        <div>\n            <h1>Погода</h1>\n            <div className={styles.wrapLabel}>\n                <label className={styles.label}>\n                    <span><b>Введите название города</b></span>\n                    <input type={'text'}/>\n                </label>\n            </div>\n            {errorWeather ?\n                <div>Не удалось определить местоположение (\n                    <span className={styles.error}>{errorWeather.message}</span>\n                    )</div> : null}\n            {dataWeather && <div className={styles.data}>\n                <div><b>Ваше местоположение: </b>{dataWeather.name}</div>\n                <div><b>Температура воздуха: </b>{(dataWeather.main.temp).toFixed()}℃\n                    (ощущается {(dataWeather.main.feels_like).toFixed()}℃)\n                </div>\n                <div><b>Влажность: </b>{dataWeather.main.humidity}%</div>\n                <div><b>Высота над уровнем моря: </b>{dataWeather.main.sea_level} метров</div>\n                <div className={styles.sun}>\n                    <div><b>Восход: </b>{sunriseTime}</div>\n                    <div><b>Закат: </b>{sunsetTime}</div>\n                </div>\n            </div>}\n        </div>\n    );\n};\n\nexport default withAuthRedirect(connect(state => ({\n    errorWeather: errorWeatherSelector(state),\n    dataWeather: dataWeatherSelector(state),\n    sunriseTime: sunriseTimeSelector(state),\n    sunsetTime: sunsetTimeSelector(state)\n}), {getCoordinates})(Weather));\n","import React from 'react';\nimport styles from './NotFound404.module.scss'\n\nconst NotFound404 = () => {\n    return (\n        <h1 className={styles.root}>\n            Not Found 404\n        </h1>\n    );\n};\n\nexport default NotFound404;\n","import React, {useEffect, useState} from 'react';\nimport styles from './Login.module.scss';\nimport {useForm} from 'react-hook-form';\nimport {connect} from 'react-redux';\nimport {auth, autoLogin} from '../../redux/actions';\nimport {Redirect} from 'react-router-dom';\nimport {isAuthSelector, requestAuthSelector} from '../../redux/selectors';\n\nconst Login = ({auth, isAuth, autoLogin, request}) => {\n    const {register, handleSubmit, formState} = useForm({\n        mode: 'onBlur'\n    });\n    const [isLogin, setIsLogin] = useState();\n\n    useEffect(() => {\n        autoLogin()\n    }, []); //eslint-disable-line\n\n    if (isAuth) {\n        return <Redirect to={'/journal'}/>\n    }\n\n    const preSubmit = (bool) => {\n        const error = Object.keys(formState.errors).length\n        if (error > 0) return;\n        setIsLogin(bool);\n        onSubmit()\n    }\n\n    const onSubmit = (userData) => {\n        if (!userData) return;\n        auth(userData, isLogin)\n    }\n\n    return (\n        <div className={styles.root}>\n            <h1>Авторизация</h1>\n            <form className={styles.head} onSubmit={handleSubmit(onSubmit)}>\n                <label className={styles.label}>\n                    <span>{'Email'}</span>\n                    <input type={'email'} {...register('email', {required: true, pattern: /^\\S+@\\S+\\.\\S+$/})} />\n                    {formState.errors.email?.type === 'required' &&\n                    <span className={styles.error}>Email is required</span>}\n                    {formState.errors.email?.type === 'pattern' &&\n                    <span className={styles.error}>Email is not valid</span>}\n                </label>\n                <label className={styles.label}>\n                    <span>{'Password'}</span>\n                    <input type={'password'} {...register('password', {required: true, minLength: 6})} />\n                    {formState.errors.password?.type === 'required' &&\n                    <span className={styles.error}>Password is required</span>}\n                    {formState.errors.password?.type === 'minLength' &&\n                    <span className={styles.error}>Password minimum 6 characters</span>}\n                </label>\n                <div className={styles.buttons}>\n                    <button name={'signIn'} onClick={() => preSubmit(true)} type={'submit'} disabled={request}>Sign In</button>\n                    <button name={'signUp'} onClick={() => preSubmit(false)} type={'submit'} disabled={request}>Sign Up</button>\n                </div>\n            </form>\n        </div>\n    )\n};\n\nexport default connect(state => ({\n    isAuth: isAuthSelector(state),\n    request: requestAuthSelector(state),\n}), {\n    auth,\n    autoLogin\n})(Login);\n","import React from 'react';\nimport styles from './App.module.scss'\n// import Login from '../Login/Login';\nimport Journal from '../Journal/Journal';\nimport Head from '../Head/Head';\nimport {Switch, Route, Redirect} from 'react-router-dom';\nimport Weather from '../Weather/Weather';\nimport NotFound404 from '../NotFound404/NotFound404';\nimport Login from '../Login/Login';\n\nconst App = () => {\n    return (\n        <div className={styles.app}>\n            <div className={styles.wrapp}>\n                <Head><title>App</title></Head>\n                <Switch>\n                    <Redirect exact from=\"/\" to=\"/journal\" />\n                    <Route exact path={'/journal'} component={Journal}/>\n                    <Route exact path={'/weather'} component={Weather}/>\n                    <Route exact path={'/login'} component={Login}/>\n                    <Route path='*' component={NotFound404}/>\n                </Switch>\n            </div>\n        </div>\n    )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {FAILURE, LOAD_DAYBOOK, REQUEST, SUCCESS} from '../constants';\nimport {normalizeView} from '../../utils/utils';\n\nconst initialState = {\n    entities: [],\n    loading: false,\n    loaded: false,\n    error: null,\n};\n\nexport default function daybook (state = initialState, action) {\n    const {type, payload} = action;\n    switch (type) {\n        case LOAD_DAYBOOK + REQUEST:\n            return {\n                ...state,\n                loading: true,\n                error: null,\n            };\n        case LOAD_DAYBOOK + SUCCESS:\n            return {\n                ...state,\n                entities: normalizeView(payload.daybook),\n                loading: false,\n                loaded: true,\n            };\n        case LOAD_DAYBOOK + FAILURE:\n            return {\n                ...state,\n                loading: false,\n                loaded: false,\n                error: payload.error.message,\n                entities: []\n            };\n        // case LOAD_LAST_DAYBOOK:\n        //     return {\n        //         ...state,\n        //\n        //     }\n        default:\n            return state\n    }\n}\n","import {CANCEL, CONFIRM, FAILURE, NEW_NOTE, REQUEST, SUCCESS, UPLOAD} from '../constants';\n\nconst initialState = {\n    editMode: false,\n    loading: false,\n    loaded: false,\n    error: null,\n};\n\nexport default function newNote (state = initialState, action) {\n    const {type, payload} = action;\n    switch (type) {\n        case NEW_NOTE + REQUEST:\n            return {\n                ...state,\n                editMode: true,\n            }\n        case NEW_NOTE + CANCEL:\n            return {\n                ...state,\n                editMode: false,\n            }\n        case NEW_NOTE + UPLOAD:\n            return {\n                ...state,\n                loading: true,\n            }\n        case NEW_NOTE + SUCCESS:\n            return {\n                ...state,\n                loading: false,\n                loaded: true,\n            }\n        case NEW_NOTE + CONFIRM:\n            return {\n                ...state,\n                editMode: false,\n                loaded: false,\n            }\n        case NEW_NOTE + FAILURE:\n            return {\n                ...state,\n                loading: false,\n                loaded: false,\n                error: payload.error\n            }\n        default:\n            return state\n    }\n}\n","import {CANCEL, CONFIRM, FAILURE, DEL_NOTE, REQUEST, SUCCESS, DELETE} from '../constants';\n\nconst initialState = {\n    confirmMode: false,\n    noteId: null,\n    loading: false,\n    loaded: false,\n    error: null,\n};\n\nexport default function delNote(state = initialState, action) {\n    const {type, payload} = action;\n    switch (type) {\n        case DEL_NOTE + CONFIRM:\n            return {\n                ...state,\n                confirmMode: true,\n                noteId: payload,\n            }\n        case DEL_NOTE + CANCEL:\n            return {\n                ...state,\n                confirmMode: false,\n            }\n        case DEL_NOTE + DELETE + REQUEST:\n            return {\n                ...state,\n                loading: true,\n            }\n        case DEL_NOTE + DELETE + SUCCESS:\n            return {\n                ...state,\n                loading: false,\n                loaded: true,\n                confirmMode: false,\n                noteId: null,\n            }\n        case DEL_NOTE + DELETE + FAILURE:\n            return {\n                ...state,\n                loading: false,\n                loaded: false,\n                confirmMode: false,\n                error: payload.error\n            }\n        default:\n            return state\n    }\n}\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory();\n\nexport default history;\n","import {FAILURE, GET_LOCATION, GET_WEATHER} from '../constants';\n\nconst initialState = {\n    latitude: null,\n    longitude: null,\n    error: null,\n    data: null\n};\n\nexport default function weather (state = initialState, action) {\n    const {type, payload} = action;\n    switch (type) {\n        case GET_LOCATION:\n            return {\n                ...state,\n                latitude: payload.latitude,\n                longitude: payload.longitude,\n            };\n        case GET_LOCATION + FAILURE:\n            return {\n                ...state,\n                error: payload\n            }\n        case GET_WEATHER:\n            return {\n                ...state,\n                data: payload\n            }\n        default:\n            return state\n    }\n}\n","import {AUTHENTICATION, LOGOUT, REQUEST, SUCCESS} from '../constants';\n\nconst initialState = {\n    token: null,\n    email: null,\n    request: false\n};\n\nexport default function auth(state = initialState, action) {\n    const {type, payload} = action;\n    switch (type) {\n        case AUTHENTICATION + REQUEST:\n            return {\n                ...state,\n                request: true\n            }\n        case AUTHENTICATION + SUCCESS:\n            return {\n                ...state,\n                token: payload.token,\n                email: payload.email,\n                request: false\n            };\n        case AUTHENTICATION + LOGOUT:\n            return {\n                ...state,\n                token: null,\n                email: null\n            }\n        default:\n            return state\n    }\n}\n","import { combineReducers } from 'redux';\nimport daybook from './daybook';\nimport newNote from './newNote';\nimport delNote from './delNote';\nimport {connectRouter} from \"connected-react-router\";\nimport history from '../../history';\nimport weather from './weather';\nimport auth from './auth';\n\nexport default combineReducers({\n    router: connectRouter(history),\n    daybook,\n    newNote,\n    delNote,\n    weather,\n    auth,\n});\n","import {createStore, applyMiddleware} from 'redux';\nimport thunk from 'redux-thunk';\nimport {composeWithDevTools} from 'redux-devtools-extension';\nimport reducers from './reducers';\nimport {routerMiddleware} from 'connected-react-router';\nimport history from '../history'\n\nconst enhancer = applyMiddleware(\n    thunk,\n    routerMiddleware(history),\n);\n\nexport default createStore(reducers, composeWithDevTools(enhancer));\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './redux/store';\nimport {Provider} from 'react-redux';\nimport {ConnectedRouter} from 'connected-react-router';\nimport history from './history'\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <ConnectedRouter history={history}>\n                <App/>\n            </ConnectedRouter>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}